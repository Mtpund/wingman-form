<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wingman Mental Health | Onboarding</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    .bubble-option {
      border: 1px solid #000000;
      border-radius: 10px;
      padding: 0.75rem 1rem;
      text-align: left;
      cursor: pointer;
      transition: all 0.2s ease;
      background-color: #FFFFFF;
      color: #000000;
      margin-bottom: 0.75rem;
      user-select: none;
      display: block;
    }

    .bubble-option.selected {
      background-color: #7DF9FF !important;
      color: #000000 !important;
      border-color: #7DF9FF !important;
    }

    .form-step {
      display: none;
    }

    .form-step.active {
      display: block;
    }

    .progress-bar {
      display: flex;
      gap: 4px;
      margin-bottom: 2rem;
    }

    .progress-segment {
      flex: 1;
      height: 8px;
      background-color: #333;
      border-radius: 4px;
    }

    .progress-segment.active {
      background-color: #7DF9FF;
    }

    body {
      background: #000;
      color: #000000;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 2rem;
    }

    .popup-content {
      background: #fff;
      padding: 2rem;
      border-radius: 10px;
      max-width: 90%;
      text-align: center;
    }

    button, input, select, textarea {
      font-family: 'Inter', sans-serif;
    }

    button.next-btn, button.prev-btn, button#close-popup, button.submit-btn {
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border: none;
      background-color: #000;
      color: #FFFFFF;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 1rem;
    }

    input, textarea, select {
      padding: 0.75rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      width: 100%;
      font-size: 1rem;
      color: #000000;
    }

    input::placeholder,
    textarea::placeholder {
      color: #999999;
    }
  </style>
</head>
<body>
  <div id="form-top"></div>
  <div class="form-wrapper" style="background: #FFFFFF; padding: 2rem; border-radius: 12px; margin-top: 3rem;">
    <div class="progress-bar" id="progressBar">
      <div class="progress-segment active" data-index="0"></div>
      <div class="progress-segment" data-index="1"></div>
      <div class="progress-segment" data-index="2"></div>
      <div class="progress-segment" data-index="3"></div>
      <div class="progress-segment" data-index="4"></div>
      <div class="progress-segment" data-index="5"></div>
      <div class="progress-segment" data-index="6"></div>
      <div class="progress-segment" data-index="7"></div>
      <div class="progress-segment" data-index="8"></div>
      <div class="progress-segment" data-index="9"></div>
      <div class="progress-segment" data-index="10"></div>
    </div>

    <form id="wingman-form">
      <div class="form-step active" data-step="1">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">What are your goals?</label>
        <div class="bubble-group" id="goals-options" style="margin-top: 1rem;"></div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="2">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">What are you looking for right now?</label>
        <small style="display: block; margin-bottom: 1rem;">We will provide you with personalized recommendations that could be helpful. Select all that apply.</small>
        <div class="bubble-group" id="looking-for-options" style="margin-top: 1rem;"></div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="3">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">How much time per week are you prepared to commit to receiving professional support for your mental health & well-being?</label>
        <div class="bubble-group" id="time-commitment-options" style="margin-top: 1rem;"></div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="4">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">At which weekly price would receiving professional support become too expensive for you personally?</label>
        <div class="bubble-group" id="price-limit-options" style="margin-top: 1rem;"></div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="5">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">If you could only pick one superpower for someone supporting you, what would it be?</label>
        <div class="bubble-group" id="coach-superpower-options" style="margin-top: 1rem;"></div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="6">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">How would you ideally like to receive this support?</label>
        <small style="display: block; margin-bottom: 1rem;">Select All That Apply</small>
        <div class="bubble-group" id="support-format-options" style="margin-top: 1rem;"></div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="7">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">Have you ever worked with a mental health coach, therapist, or counselor in the past?</label>
        <div class="bubble-group" id="previous-experience-options" style="margin-top: 1rem;"></div>
      </div>

      <div class="form-step" data-step="8">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">Let's get your contact details.</label>
        <div style="margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem;">
          <input type="text" placeholder="Full Name" required>
          <input type="date" placeholder="Date of Birth" required>
          <input type="email" placeholder="Email" required>
          <input type="tel" placeholder="Phone Number" required>
        </div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="9">
        <label style="font-size: 1.75rem; font-weight: 700; display: block; margin-bottom: 0.5rem;">Emergency Contact Information</label>
        <div style="margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem;">
          <input type="text" placeholder="Emergency Contact Full Name" required>
          <input type="email" placeholder="Email" required>
          <input type="tel" placeholder="Phone Number" required>
        </div>
        <button type="button" class="next-btn">Next</button>
      </div>

      <div class="form-step" data-step="10" style="text-align: center; padding-top: 2rem;">
        <h2 style="margin-bottom: 1rem;">Thank you!</h2>
        <p style="margin-bottom: 1.5rem;">We've received your responses. Click the button below to choose your package & get started.</p>
        <a href="https://wingmanmentalhealth.com/pricing" target="_blank">
          <button type="button" class="submit-btn">Choose Your Wingman Package</button>
        </a>
      </div>
    </form>
  </div>

  <div id="crisis-popup" class="popup hidden" style="display: none;">
    <div class="popup-content">
      <p>For crisis support/immediate help please dial 988 for the Suicide & Crisis Hotline, 911, or one of the resources <a href="https://mhanational.org/resources/resources-for-immediate-response/" target="_blank">here</a>.</p>
      <button id="close-popup">Close</button>
    </div>
  </div>

<script>
  const createBubbleOptions = (containerId, options, multi = true, trigger = null) => {
    const container = document.getElementById(containerId);
    if (!container) return;
    options.forEach(text => {
      const div = document.createElement('div');
      div.className = 'bubble-option';
      div.textContent = text;
      div.onclick = () => {
        if (!multi) {
          container.querySelectorAll('.bubble-option').forEach(o => o.classList.remove('selected'));
        }
        div.classList.toggle('selected');
        if (text === trigger) {
          document.getElementById('crisis-popup').classList.remove('hidden');
          document.getElementById('crisis-popup').style.display = 'flex';
        }
        if (!multi) goToStep(currentStep + 1);
      };
      container.appendChild(div);
    });
  };

  createBubbleOptions('goals-options', [
    "Be a better dad/partner/friend",
    "Be more productive at work",
    "Break bad habits (like drinking too much, smoking, or procrastinating)",
    "Build better daily routines",
    "Communicate better with my partner or family",
    "Deal with big life changes (like a breakup, job loss, becoming a dad, etc.)",
    "Deal with grief or loss",
    "Eat healthier",
    "Feel happier or more motivated",
    "Feel less anxious",
    "Feel less lonely",
    "Feel more in control of my emotions",
    "Find more meaning or purpose in life",
    "Get support for quitting substances (alcohol, drugs, etc.)",
    "Get to the gym more regularly",
    "Handle anger or frustration better",
    "Have more confidence",
    "Have more energy during the day",
    "Improve work-life balance",
    "Make more time for hobbies or things I enjoy",
    "Make new friends or improve my social life",
    "Manage money or financial stress better",
    "Prepare for a new job or career change",
    "Reduce stress",
    "Set and stick to personal goals",
    "Sleep better",
    "Spend less time on my phone or gaming",
    "Stay accountable to my goals",
    "Stop feeling stuck or overwhelmed",
    "Other"
  ]);

  createBubbleOptions('looking-for-options', [
    "Mental Health Coaching",
    "Therapy/Counseling",
    "Community/Support Groups",
    "Crisis Support/Immediate Help",
    "Self Help Resources/Tools",
    "Peer Support/Mentorship",
    "Specialized Support (i.e. addiction, fatherhood, relationships, identity, etc.)"
  ].sort(), true, "Crisis Support/Immediate Help");

  createBubbleOptions('time-commitment-options', [
    "Up to 30 Minutes",
    "Up to 1 Hour",
    "Up to 2 Hours",
    "More than 2 Hours"
  ], false);

  createBubbleOptions('price-limit-options', [
    "More than $10",
    "More than $25",
    "More than $50",
    "More than $75",
    "More than $100",
    "More than $125",
    "More than $150",
    "More than $175",
    "More than $200",
    "More than $250",
    "More than $300",
    "More than $400",
    "More than $500"
  ], false);

  createBubbleOptions('coach-superpower-options', [
    "Incredible Listener",
    "Amazing Motivator",
    "Wealth of Wisdom",
    "Calm, Cool, and Collected",
    "A+ Accountability",
    "Your Bigger Fan & Champion"
  ], false);

  createBubbleOptions('support-format-options', [
    "Texting/Messaging",
    "Phone Calls",
    "Video Calls",
    "In-Person",
    "Asynchronous Drop-Ins (Email, etc.)"
  ], true);

  createBubbleOptions('previous-experience-options', ["Yes", "No"], false);

  const steps = document.querySelectorAll('.form-step');
  const nextBtns = document.querySelectorAll('.next-btn');
  let currentStep = 0;

  const stepProgress = () => {
    const segments = document.querySelectorAll('.progress-segment');
    segments.forEach((seg, i) => {
      seg.classList.toggle('active', i <= currentStep);
    });
  };

  const goToStep = (step) => {
    steps.forEach((s, i) => s.classList.toggle('active', i === step));
    currentStep = step;
    stepProgress();
    location.hash = '#form-top';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  nextBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      goToStep(currentStep + 1);
    });
  });

  document.getElementById('close-popup').addEventListener('click', () => {
    document.getElementById('crisis-popup').classList.add('hidden');
    document.getElementById('crisis-popup').style.display = 'none';
  });
</script>
</body>
</html>
